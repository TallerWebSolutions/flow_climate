<% if status_report_data.present? %>

  <h3 class="center"><%= t('charts.current_situation.title') %></h3>

  <div class="row bottom-spaced-component">
    <div class="col-xs-6">
      <div id="status-report-throughput-column"
           class="flow-chart"
           data-title='<%= t('projects.charts.throughput_per_week.title', target_name: target_name) %>'
           data-xcategories='<%= status_report_data.all_projects_weeks.to_json %>'
           data-xtitle='<%= t('projects.charts.xlabel.weeks') %>'
           data-ytitle='<%= t('projects.charts.throughput_per_week.ylabel') %>'
           data-suffix=''
           data-series='<%= status_report_data.throughput_per_week.to_json %>'
           data-stacking='normal'
           data-decimals='0'>
      </div>
    </div>
    <div class="col-xs-6">
      <div id="status-report-delivered-column"
           class="flow-chart"
           data-xcategories='<%= ['Scope'] %>'
           data-title='<%= t('projects.charts.delivered.title', target_name: target_name) %>'
           data-ytitle='<%= t('projects.charts.throughput_per_week.ylabel') %>'
           data-suffix='<%= t('projects.charts.throughput_per_week.ylabel') %>'
           data-series='<%= status_report_data.delivered_vs_remaining.to_json %>'
           data-decimals='0'>
      </div>
    </div>
  </div>

  <div class="row bottom-spaced-component">
    <div class="col-xs-6">
      <div id="burnup-hours-per-week"
           class="flow-chart"
           data-title='<%= t('projects.charts.burnup.hours.title_per_week', target_name: target_name) %>'
           data-weeks='<%= status_report_data.all_projects_weeks.to_json %>'
           data-xtitle='<%= t('projects.charts.xlabel.weeks') %>'
           data-ytitle='<%= t('projects.charts.burnup.ylabel') %>'
           data-prefix=''
           data-suffix='<%= t('general.charts.hours') %>'
           data-ideal='<%= status_report_data.hours_burnup_per_week_data.ideal_per_period %>'
           data-current='<%= status_report_data.hours_burnup_per_week_data.current_per_period %>'
           data-scope='<%= status_report_data.hours_burnup_per_week_data.scope_per_period %>'
           data-decimals='0'>
      </div>
    </div>

    <div class="col-xs-6">
      <div id="burnup-hours-per-month"
           class="flow-chart"
           data-title='<%= t('projects.charts.burnup.hours.title_per_month', target_name: target_name) %>'
           data-weeks='<%= status_report_data.all_projects_months.to_json %>'
           data-xtitle='<%= t('projects.charts.xlabel.months') %>'
           data-ytitle='<%= t('projects.charts.burnup.ylabel') %>'
           data-prefix=''
           data-suffix='<%= t('general.charts.hours') %>'
           data-ideal='<%= status_report_data.hours_burnup_per_month_data.ideal_per_period %>'
           data-current='<%= status_report_data.hours_burnup_per_month_data.current_per_period %>'
           data-scope='<%= status_report_data.hours_burnup_per_month_data.scope_per_period %>'
           data-decimals='0'>
      </div>
    </div>
  </div>

  <div class="row bottom-spaced-component">
    <div class="col-xs-6">
      <div id="status-report-deadline-bar"
           class="flow-chart"
           data-xcategories='<%= [t('projects.general.deadline')] %>'
           data-title='<%= t('projects.charts.deadline.title', target_name: target_name) %>'
           data-ytitle='<%= t('projects.charts.xlabel.days') %>'
           data-suffix='<%= t('projects.charts.xlabel.days') %>'
           data-series='<%= status_report_data.deadline.to_json %>'
           data-stacking='normal'
           data-decimals='0'>
      </div>
    </div>
    <div class="col-xs-6">
      <div id="status-report-hours-per-stage"
           class="flow-chart"
           data-xcategories='<%= status_report_data.hours_per_stage[:xcategories] %>'
           data-title='<%= t('projects.status_report_chart.hours_per_stage.title', target_name: target_name) %>'
           data-ytitle='<%= t('projects.status_report_chart.hours_per_stage.labels.y') %>'
           data-suffix='<%= t('projects.status_report_chart.hours_per_stage.labels.y') %>'
           data-series='<%= [{ name: I18n.t('projects.status_report_chart.hours_per_stage.series.hours_per_stage'), data: status_report_data.hours_per_stage[:hours_per_stage] }].to_json %>'
           data-decimals='0'>
      </div>
    </div>
  </div>

  <div class="row bottom-spaced-component">
    <div class="col-xs-6">
      <div id="cfd-upstream-area"
           class="flow-chart"
           data-xcategories='<%= status_report_data.all_projects_weeks.to_json %>'
           data-title='<%= t('charts.cfd.title_upstream', target_name: target_name) %>'
           data-ytitle='<%= t('charts.cfd.ytitle') %>'
           data-suffix='<%= t('charts.cfd.data_suffix') %>'
           data-series='<%= status_report_data.cumulative_flow_diagram_upstream.to_json %>'
           data-stacking='normal'
           data-decimals='0'>
      </div>
    </div>

    <div class="col-xs-6">
      <div id="cfd-downstream-area"
           class="flow-chart"
           data-xcategories='<%= status_report_data.all_projects_weeks.to_json %>'
           data-title='<%= t('charts.cfd.title_downstream', target_name: target_name) %>'
           data-ytitle='<%= t('charts.cfd.ytitle') %>'
           data-suffix='<%= t('charts.cfd.data_suffix') %>'
           data-series='<%= status_report_data.cumulative_flow_diagram_downstream.to_json %>'
           data-stacking='normal'
           data-decimals='0'>
      </div>
    </div>
  </div>

<% else %>
  <%= t('general.no_data', missing_data: t('general.data')) %>
<% end %>