let project = $("#project-tasks-dashboard");

$("#project-demands-dashboard").hide();
project.show();
project.html("<%= escape_javascript(render 'projects/dashboards/project_tasks_dashboard', company: @company, tasks_chart_adapter: @tasks_charts_adapter, burnup_adapter: @burnup_adapter, project_consolidations: @project_consolidations, task_completion_control_chart_data: @task_completion_control_chart_data) %>")

const projectFlowTasksDataColumn = $("#project-dashboard-tasks-flow-data-column");
if (projectFlowTasksDataColumn.length !== 0) {
    buildColumnChart(projectFlowTasksDataColumn);
}

const projectTaskBurnup = $("#project-burnup-tasks");
if (projectTaskBurnup.length !== 0) {
    buildBurnupChart(projectTaskBurnup);
}

const projectTaskBasedDeadlineRisk = $("#project-dashboard-task-risk-evolution");
if (projectTaskBasedDeadlineRisk.length !== 0) {
    buildLineChart(projectTaskBasedDeadlineRisk);
}

const projectTaskBasedScatterPlot = $("#project-dashboard-task-completion-scatter");
if (projectTaskBasedScatterPlot.length !== 0) {
    buildScatterChart(projectTaskBasedScatterPlot);
}

$('#tasks_charts_tab').addClass('active');
$('#demands_charts_tab').removeClass('active');
