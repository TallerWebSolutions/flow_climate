var demandsGroupedPerMonth = $('#demands-grouped-per-month-div');
var demandsGroupedPerCustomer = $('#demands-grouped-per-customer-div')
var flatDemands = $('#flat-demands-div');

bindDemandFilterActions();

$('#container-leadtime-div').html("<%= escape_javascript(render 'demands/demands_leadtime_container', confidence_65_leadtime: @confidence_65_leadtime, confidence_80_leadtime: @confidence_80_leadtime, confidence_95_leadtime: @confidence_95_leadtime).html_safe %>");

<% if @grouped_delivered_demands.present? %>
  demandsGroupedPerMonth.html("<%= escape_javascript(render 'demands/grouped_by_month_demands_table', demands: @grouped_delivered_demands).html_safe %>");
  flatDemands.hide();
  demandsGroupedPerMonth.show();
  demandsGroupedPerCustomer.hide();

<% elsif @grouped_customer_demands.present? %>
  demandsGroupedPerCustomer.html("<%= escape_javascript(render 'demands/grouped_by_customer_demands_table', demands: @grouped_customer_demands).html_safe %>");
  flatDemands.hide();
  demandsGroupedPerMonth.hide();
  demandsGroupedPerCustomer.show();

<% else %>
  flatDemands.html("<%= escape_javascript(render 'demands/demands_table', demands: @demands).html_safe %>");
  flatDemands.show();
  demandsGroupedPerMonth.hide();
  demandsGroupedPerCustomer.hide();
  $('#grouping_no_grouping').prop("checked", true);

<% end %>

$("#demands_table").show();
$(".form-control").prop('disabled', false)
$(".filter-checks").prop('disabled', false)
$("#general-loader").hide();
